# Настройка подключения к базе данных

## Проблема: Ошибка подключения к базе данных

Если вы видите ошибку "Ошибка подключения к базе данных", это означает, что не настроены переменные окружения.

## Решение

### 1. Создайте файл `.env` в корне проекта

Создайте файл `.env` (обратите внимание на точку в начале имени файла) в корневой директории проекта.

### 2. Добавьте переменные окружения

Откройте файл `.env` и добавьте следующие переменные:

```env
# База данных - Рабочая БД
DATABASE_URL="postgresql://user:password@host/dbname?sslmode=require"

# База данных - Локальная БД (опционально)
# Если не указано, будет использоваться DATABASE_URL
# DATABASE_URL_LOCAL="postgresql://user:password@localhost:5432/localdb"
```

### 3. Получите строку подключения

#### Для Neon (рекомендуется)
1. Зайдите на [Neon](https://neon.tech)
2. Создайте проект (если еще не создан)
3. Скопируйте connection string из Dashboard
4. Вставьте его в `.env` файл как значение `DATABASE_URL`

#### Для локальной PostgreSQL
Если у вас установлен PostgreSQL локально:
```env
DATABASE_URL="postgresql://postgres:password@localhost:5432/mydb"
```

### 4. Перезапустите dev сервер

После создания файла `.env`:
1. Остановите dev сервер (если запущен)
2. Запустите снова: `npm run dev`

## Проверка подключения

После настройки откройте http://localhost:3000/view-db и проверьте статус подключения для каждой БД.

## Примечания

- Файл `.env` должен находиться в корне проекта (там же, где `package.json`)
- **Не коммитьте** файл `.env` в Git (он уже добавлен в `.gitignore`)
- Переменные окружения читаются автоматически Next.js при запуске
- Если указан `DATABASE_URL_LOCAL`, он будет использоваться для локальной БД, иначе используется `DATABASE_URL`


